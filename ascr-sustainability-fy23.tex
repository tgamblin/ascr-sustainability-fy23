% --------------------------------------------------
% LLNL proposal Template
% --------------------------------------------------
\documentclass[11pt]{article}
\usepackage[letterpaper, margin=1in]{geometry}
\usepackage{times}

% --------------------------------------------------
% Colors
% --------------------------------------------------
\usepackage[table]{xcolor}
\usepackage{tikz}

\definecolor{secblue}{HTML}{3B5E7F}
\definecolor{subsecblue}{HTML}{4F81BD}
\definecolor{hdrgray}{HTML}{A7B7C7}

\definecolor{boxblue}{HTML}{587590}
\definecolor{boxgray}{HTML}{E0E6E6}


% --------------------------------------------------
% Extra packages
% --------------------------------------------------
\usepackage[subfigure]{tocloft}
\usepackage{inconsolata}
\usepackage{abstract}
\usepackage{subfigure}
\usepackage{graphicx}
\usepackage[hidelinks]{hyperref}
\usepackage{wrapfig}
\usepackage{url}
\usepackage{pdfpages}
\usepackage{ctable}
\usepackage{multirow}
\usepackage[titletoc]{appendix}
\usepackage{lipsum}
\usepackage{mdframed}
\usepackage{fancyvrb}
\usepackage{tabu}
\usepackage{tabularx}
\usepackage{multirow}
\usepackage{xspace}

\usepackage{pdfpages}

% Sort multiple citations by citation number
\usepackage[sort]{natbib}

% Space reduction
\usepackage{caption}
\DeclareCaptionFont{subsecblue}{\color{subsecblue}}
\captionsetup{labelfont={small,subsecblue,bf},font=small}

\usepackage{enumitem}
\setlist{noitemsep,topsep=2pt}

% --------------------------------------------------
% Section heading format
% --------------------------------------------------
\usepackage{titlesec}

\titlespacing{\parameterization}{0em}{.4em}{.5em}
\titlespacing{\section}{0em}{.4em}{.1em}
\titlespacing{\subsection}{0em}{.4em}{.1em}
\titlespacing{\subsubsection}{0em}{.4em}{.1em}

\def\secformat{\sffamily\bfseries}

\titleformat{\section}{\large\secformat\color{secblue}}{\thesection}{1em}{}
\titleformat{\subsection}{\large\secformat\color{subsecblue}}{\thesubsection}{1em}{}
\titleformat{\subsubsection}{\normalsize\secformat\color{subsecblue}}{\thesubsubsection}{1em}{}
\titleformat{\paragraph}[runin]{\normalsize\secformat\color{subsecblue}}{\theparagraph}{1em}{}

\newcommand{\tablesec}[1]{%
	\vspace{.1em}
	\textbf{\color{subsecblue} #1}\newline}
% --------------------------------------------------
% Paragraphs
% --------------------------------------------------
\setlength{\parindent}{0em}
\setlength{\parskip}{.5em}


% --------------------------------------------------
% Make TOC fonts match sections
% --------------------------------------------------
\renewcommand\abstractnamefont{\normalsize\secformat\color{secblue}}

\renewcommand\contentsname{Table of Contents}

\renewcommand\cfttoctitlefont{\Large\secformat\color{secblue}}
\renewcommand\cftsecfont{\normalsize\secformat\color{secblue}}
\renewcommand\cftsubsecfont{\normalsize\sffamily\color{subsecblue}}
\renewcommand\cftsubsubsecfont{\normalsize\sffamily\color{subsecblue}}

\renewcommand\appendixpagename{\Large\secformat\color{secblue} Appendices}
\renewcommand\appendixtocname{\Large\secformat\color{secblue} Appendices}


% --------------------------------------------------
% Headers & Geometry
% --------------------------------------------------

% Header for other pages
\usepackage{fancyhdr}
\renewcommand{\headrulewidth}{0pt}
\pagestyle{fancy}
\lhead{
	\begin{tikzpicture}
		\node[white,draw=white,shape=rectangle,fill=hdrgray] at (-8, 12)
		{\sf\footnotesize \hbox to \textwidth{
			Strong Foundations for Sustainability
			\hfill
			FY23 ASCR Software Sustainability Proposal}
		};
	\end{tikzpicture}
}
\chead{}
\rhead{}

% --------------------------------------------------
% Title, Author, Proposal info table
% --------------------------------------------------
\def\lbox{\cellcolor{boxblue}\color{white}\small\sffamily\bfseries}
\def\rbox{\cellcolor{boxgray}\small}
\taburulecolor{white}
%
% Title
\title{\vspace{-3em}\sf\huge\color{secblue}%
Strong Foundations for Sustainability}
%
% Author
%\author{\vspace{-1em}
%  Todd Gamblin, \href{mailto:tgamblin@llnl.gov}{tgamblin@llnl.gov}
%  Tzanio Kolev, \href{mailto:tzanio@llnl.gov}{tzanio@llnl.gov}
%}
\date{\vspace{-6em}}

% --------------------------------------------------
% Custom comamnds
% --------------------------------------------------
\newcommand{\ncite}{{\color{red}[cite]}}

% --------------------------------------------------
% Main document
% --------------------------------------------------
\begin{document}
\setcounter{page}{1}

\maketitle

\section{Vision}

The Exascale Computing Project (ECP) has successfully created a broad ecosystem of
software that enables scientists across government, academia and industry to realize the
full potential of exascale machines. Like its biological namesake, this ecosystem is
thriving and interconnected. Researchers and developers constantly evolve the ECP
software stack to adapt it for new needs and new mission applications. More than ever
before (in DOE), the push to exascale has enabled {\it integration} across the stack,
and {\it robust}, {\it shared} capabilities are leveraged by many consumer packages. The
ECP stack provides many unique capabilities, but these capabilities cannot be sustained
unless the software is maintained.

A software ecosystem is only valuable if users have confidence in its reliability and
longevity. This can only be achieved with sustained contribution. A successful
sustainment strategy should aim to grow the user and contributor base as large as
possible. We will achieve this growth by pushing for two key goals:

\begin{enumerate}
\item {\bf Core sustainment.} {\it We will create a project structure to sustain key
  software packages}. Contributions to the stack so far have been driven by ECP
  investment, and DOE must continue to invest in key projects to ensure that their
  capabilities are preserved. The successors of today's exasacle machines will
  incorporate new types of accelerators, and we must build on the ECP stack to harness
  their power.
\item {\bf Base building.} Spack, MFEM, Kokkos, and other ECP projects have grown
  communities of hundreds of contributors, attracting the interest of industry just as
  HPC has begun to take off in the cloud\footnote{Current studies project an 8\%
  Compound Annual Growth Rate (CAGR) for cloud HPC.}. Now is the time to leverage this
  confidence. {\it We will aggressively lower barriers for adoption, attracting new
    users and contributors to maximize the value of DOE's investment and broaden our
    impact}.
\end{enumerate}

Now is the time for this effort, because we are at an inflection point. While
accelerated AI has become ubiquitous, industry and cloud providers are only just
beginning to look at accelerated computing for HPC, and they are looking to DOE for
solutions. Today's exascale technologies are tomorrow's cloud offerings, and a well
maintained ECP stack can be the foundation of an accelerated cloud HPC ecosystem. We can
use our position of software leadership to bring industry collaborators into our
projects and actively shape the future of cloud and industry HPC.

\section{Software Foundations}

Software foundations like the Apache Software Foundation (ASD) and the Linux Foundation
(LF) have successfully scaled and sustained some of the largest open source communities.
Within LF, the Cloud Native Computing Foundation (CNCF) organizes a consortium of
independent projects around containers and Kubernetes. Importantly, a key goal of CNCF
is to create a {\it portable} software stack to prevent cloud vendor lock-in, much as
ECP has created a portable stack that spans GPUs. CNCF's projects are widely supported
across clouds and even garner contributions and support from cloud vendors.

There is currently no analog of CNCF for HPC that provides a portable HPC software
stack, and we aim to fill this gap. The ultimate aim of this project is to create an HPC
Foundation (HPCF) that can:
\begin{enumerate}
\item Serve as a neutral home for key projects in the HPC open source ecosystem;
\item Provide a transparent governance model that allows DOE, facilities, industry, and
  academia to site at the same table and steer the direction of member projects;
\item Easily accept donations and funds from foundation members to help sustain projects;
\item Understand HPC trends, host events, and encourage project outreach, inclusion, and
  growth; and
\item Provide a home for project infrastructure, e.g. Continuous Integration (CI).
\end{enumerate}

\section{Governance}

Neutral, transparent governance is critical for growing the base of contributors for the
ECP stack, because we must ensure that the broadest possible set of parties can be
stakeholders. Currently, all governance of the ECP stack sits within DOE, and while
collaboration is encouraged, there are barriers for industry collaborators who want to
partake in roadmap construction and planning. Shared ownership allows competitors (like
major cloud vendors) to collaborate and build common infrastructure. It can also break
down barriers between DOE and industry, or between DOE and the broader but smaller-scale
academic HPC community.

We will thus adopt a model similar to that of
Kubernetes\footnote{\href{https://github.com/kubernetes/steering/blob/main/charter.md}{https://github.com/kubernetes/steering/blob/main/charter.md}},
where a top-level steering committee guides the project's strategic direction, bylaws,
and finances, but delegates all technical responsibilities to sub-groups. Initially, the
steering committee comprise senior staff from ECP projects, facilities, laboratories,
NNSA, ASCR, and industry partners.

\section{Impact, Metrics, and Core Sustainment}

To present a familiar technical governance model, the steering committee will be
responsible for the ramp-up and ramp-down of Special Interest Groups (SIGs). SIGs are
groups of collaborators working together on particular key technical topics, which could
range from core feature developemnt to a larger group of related projects focusing on
key refactoring and integration efforts. SIGs can be funded or unfunded, but key
projects designated for core sustainment will be funded based on decisions by the
steering committee.

The steering committee will determine which projects to sustain by considering a number
of key metrics:

\begin{enumerate}
\item Broad usage (number of users, contributors, etc.) and potential for community
  growth;
\item Critical dependencies and capabilities for DOE exascale applications and software
  products;
\item Market trends and potential to establish industry, facility, or academic
  partnerships;
\item Potential to enhance DEI in the larger HPCF community; and
\item Key infrastructure for the sustainment and integration of the HPCF stack.
\end{enumerate}

The steering committee will evaluate projects on these metrics on a yearly basis, and
funded projects will be required to establish yearly milestones. Milestone descriptions
should be short (no more than a page or a single slide) but should demonstrate progress
towards one or more of the objectives above. Milestones will be presented to the
steering committee or by a deisgnated subcommittee each year. Inclusion is determined by
the above metrics, but funding for approved projects will be determined based on
technical need.

\section{Growing SIGs into Foundation Projects}

We expect each SIG to have its own open meetings, to publicly document how external
parties can participate, and to include new potential partners and customers in the
project planning. We believe that enthusiastic users eventually become contributors, and
funded projects will be given assistance by the HPCF with project tooling such as
automation, hosting, establishing CI, interfacing with HPC facilities, and cultivating
industry partnerships. This wil lower barriers for project developers and will encourage
further growth. We will establish a model similar to CNCF's ``sandbox'', ``incubating''
and ``graduated''
projects\footnote{\href{https://www.cncf.io/projects/}{https://www.cncf.io/projects/}}
to grow project maturity and move projects to production-readiness, and we will
aggressively promote production-ready projects to the broader HPC community.

The SIG structure provides a lightweight governance model for smaller projects, but it
allows larger projects to grow their own governance model in the hope that they could
become foundation projects in their own right. If a SIG begins to grow its own community
that needs more extensive structure and its own bylaws, SIGs can graduate to separate
foundation projects within the HPCF. The HPCF and its steering committee will work to
maintain awareness of all member projects, establishing collaborations but not dictating
their governance models or development workflows. We do not believe that there is a
one-size-fits-all model.

\section{Spack as a Pilot Foundation Project in FY23}

We cannot grow an overarching HPC foundation overnight, but we can prototype this
governance structure in FY23 through the Spack project. We are already in conversations
with the Linux Foundation to make Spack an LF project. In doing this, we will need to
document our governance model and establish a procedure for establishing SIGs. Spack has
grown during ECP to comprise a community of over 1,100 contributors from nearly 300
organizations, and it has attracted the interest of Amazon Web Services (AWS) and Google
Cloud Platform (GCP) as their HPC deployment tool of choice. AWS is already contributing
\$250k/year in cloud credits, and There is interest within AWS, GCP, HPE, AMD, Kitware,
and others in a foundation to ensure Spack's longevity beyond ECP. ParaTools and Kitware
have proposed a CI-related SBIR project with which we can also partner. We will:

\begin{enumerate}
\item Establish Spack as an LF project, along with an initial steering committee and SIG
  structure;
\item Establish initial dues and membership of the project, including labs, facilities,
  and industry partners;
\item Work with ASCR to develop a model for funding DOE staff working on SIGs in the
  Spack LF project;
\item Establish an initial set of SIGs to cover a large fraction of the ECP software
  ecosystem; and
\item Begin outreach to attract industry and academic partners to join us in our SIGs.
\end{enumerate}

Spack itself does not encompass the entire ECP software stack, but Spack has the highest
adoption and visibility in industry of any ECP-funded project, and all ECP projects are
deployed using Spack. Given its centrality to the ECP software ecosystem, Spack is well
positioned to pave the way for other ECP projects.

\section{Initial Special Interest Groups (SIGs)}

As mentioned above, SIGs are simply technical focus areas wtih publicly documented
activities and governance. Under our sutsainment plans, SIGs can also be funded if
necessary, based on decisions by our steering committee. We will work with steering
committees to establish an initial set of SIGs representing critical components of the
ECP stack. We aim to cover as much of the ECP stack as possible.

The initial SIGs we have in mind are E4S and Stack Integration, Workflow, CEED/MFEM,
AMReX/WarpX, Programming Models and Compilers, Visualization, Performance Tools, System
Software and IO, Spack core features, and Machine Learning (ML). We have already
established an ML SIG within the Spack project, with membership from UIUC and from
national
laboratories\footnote{\href{https://github.com/spack/spack/wiki/Machine-Learning-SIG}{https://github.com/spack/spack/wiki/Machine-Learning-SIG}},
and other SIGs in this list correspond to SDKs and other groups within ECP. Our goal is
to coordinate with other funded sustainability projects to cover projects that wish to
engage with us on our foundation model. If certain projects are funded through another
sustainability project, they can still join and contribute to a SIG here, but we should
be able to fund the entire ECP stack if possible and necessary.

\section{Beyond FY23}

After FY23, if this model is successful, we aim to work with LF to establish an umbrella
project for HPC, and to begin to convert SIGs into their own sub-projects. With
sufficient momentum, software can be the the conduit by which DOE can shape the
direction of the industry HPC stack. DOE OSS has value that no company wishes to
reinvent; lasting value in open souce repositories and technical expertise allow us to
lead by example. A well established, robust software ecosystem will ensure both that we
can take advantage of post-exascale hardware, but also that we have a robust and
portable stack for HPC in the cloud.




%\newpage
% --------------------------------------------------
% References
% --------------------------------------------------
%\nocite{*}
%\begingroup
%\section{References Cited}
%\renewcommand{\section}[2]{}
%\bibliographystyle{abbrv}
%{
%  \footnotesize
%  \setlength{\parskip}{0em}
%  \bibliography{ascr-sustainbility-fy23}
%}
%\endgroup


% --------------------------------------------------
% Biographical Sketch
% --------------------------------------------------

% A biographical sketch (limited to two pages) is required for each PI,
% co-investigator, student, postdoc, and/or university collaborator. The
% information must be provided in the order and format specified in the
% LDRD Biographical Sketch Template: Do not submit personal information
% such as home address; home telephone, fax, or cell phone numbers; home
% e-mail address; date of birth; citizenship; driver’s license numbers;
% marital status; personal hobbies; etc.

%\newpage
%\includepdf[pages=-]{grant-cv.pdf}
%\section{Biographical Sketch}

%\includepdf[pages=-]{bio-sketches/gamblin.pdf}

\end{document}
