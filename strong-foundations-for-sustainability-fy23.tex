% --------------------------------------------------
% LLNL proposal Template
% --------------------------------------------------
\documentclass[11pt]{article}
\usepackage[letterpaper, margin=1in]{geometry}
\usepackage{times}

% --------------------------------------------------
% Colors
% --------------------------------------------------
\usepackage[table]{xcolor}
\usepackage{tikz}

\definecolor{secblue}{HTML}{3B5E7F}
\definecolor{subsecblue}{HTML}{4F81BD}
\definecolor{hdrgray}{HTML}{A7B7C7}

\definecolor{boxblue}{HTML}{587590}
\definecolor{boxgray}{HTML}{E0E6E6}

% --------------------------------------------------
% Draft watermark
% --------------------------------------------------
%\usepackage[colorspec=.9]{draftwatermark}
%\SetWatermarkText{DRAFT}
%\SetWatermarkScale{1}

% --------------------------------------------------
% Extra packages
% --------------------------------------------------
\usepackage[subfigure]{tocloft}
\usepackage{inconsolata}
\usepackage{abstract}
\usepackage{subfigure}
\usepackage{graphicx}
\usepackage{hyperref}

\hypersetup{
  colorlinks,
  citecolor=violet,
  linkcolor=blue,
  urlcolor=blue
}
\usepackage{wrapfig}
\usepackage{url}
\usepackage{pdfpages}
\usepackage{ctable}
\usepackage{multirow}
\usepackage[titletoc]{appendix}
\usepackage{lipsum}
\usepackage{mdframed}
\usepackage{fancyvrb}
\usepackage{tabu}
\usepackage{tabularx}
\usepackage{multirow}
\usepackage{xspace}

\usepackage{pdfpages}

% Sort multiple citations by citation number
\usepackage[sort]{natbib}

% Space reduction
\usepackage{caption}
\DeclareCaptionFont{subsecblue}{\color{subsecblue}}
\captionsetup{labelfont={small,subsecblue,bf},font=small}

\usepackage{enumitem}
\setlist{noitemsep,topsep=2pt}

% --------------------------------------------------
% Section heading format
% --------------------------------------------------
\usepackage{titlesec}

\titlespacing{\parameterization}{0em}{.4em}{.5em}
\titlespacing{\section}{0em}{.4em}{.1em}
\titlespacing{\subsection}{0em}{.4em}{.1em}
\titlespacing{\subsubsection}{0em}{.4em}{.1em}

\def\secformat{\sffamily\bfseries}

\titleformat{\section}{\large\secformat\color{secblue}}{\thesection}{1em}{}
\titleformat{\subsection}{\large\secformat\color{subsecblue}}{\thesubsection}{1em}{}
\titleformat{\subsubsection}{\normalsize\secformat\color{subsecblue}}{\thesubsubsection}{1em}{}
\titleformat{\paragraph}[runin]{\normalsize\secformat\color{subsecblue}}{\theparagraph}{1em}{}

\newcommand{\tablesec}[1]{%
        \vspace{.1em}
        \textbf{\color{subsecblue} #1}\newline}
% --------------------------------------------------
% Paragraphs
% --------------------------------------------------
\setlength{\parindent}{0em}
\setlength{\parskip}{.5em}


% --------------------------------------------------
% Make TOC fonts match sections
% --------------------------------------------------
\renewcommand\abstractnamefont{\normalsize\secformat\color{secblue}}

\renewcommand\contentsname{Table of Contents}

\renewcommand\cfttoctitlefont{\Large\secformat\color{secblue}}
\renewcommand\cftsecfont{\normalsize\secformat\color{secblue}}
\renewcommand\cftsubsecfont{\normalsize\sffamily\color{subsecblue}}
\renewcommand\cftsubsubsecfont{\normalsize\sffamily\color{subsecblue}}

\renewcommand\appendixpagename{\Large\secformat\color{secblue} Appendices}
\renewcommand\appendixtocname{\Large\secformat\color{secblue} Appendices}


% --------------------------------------------------
% Headers & Geometry
% --------------------------------------------------

% Header for other pages
\usepackage{fancyhdr}
\renewcommand{\headrulewidth}{0pt}
\pagestyle{fancy}
\lhead{
        \begin{tikzpicture}
                \node[white,draw=white,shape=rectangle,fill=hdrgray] at (-8, 12)
                {\sf\footnotesize \hbox to \textwidth{
                        Strong Foundations for Sustainability
                        \hfill
                        FY23 ASCR Software Sustainability Proposal}
                };
        \end{tikzpicture}
}
\chead{}
\rhead{}

% --------------------------------------------------
% Title, Author, Proposal info table
% --------------------------------------------------
\def\lbox{\cellcolor{boxblue}\color{white}\small\sffamily\bfseries}
\def\rbox{\cellcolor{boxgray}\small}
\taburulecolor{white}
%
% Title
\title{\vspace{-3em}\sf\huge\color{secblue}%
Strong Foundations for Sustainability}
%
% Author
%\author{\vspace{-1em}
%  Todd Gamblin, \href{mailto:tgamblin@llnl.gov}{tgamblin@llnl.gov}
%  Tzanio Kolev, \href{mailto:tzanio@llnl.gov}{tzanio@llnl.gov}
%  Ann Almgren, \href{mailto:asalmgren@lbl.gov}{asalmgren@lbl.gov}
%}
\date{\vspace{-4em}\footnotesize\today\vspace{-3em}}

% --------------------------------------------------
% Custom comamnds
% --------------------------------------------------
\newcommand{\ncite}{{\color{red}[cite]}}

% --------------------------------------------------
% Main document
% --------------------------------------------------
\begin{document}
\setcounter{page}{1}

\maketitle

{\footnotesize
{\bf Team Members:}
  Todd Gamblin\textsuperscript{1},
  Tzanio Kolev\textsuperscript{1},
  Ann Almgren\textsuperscript{2},
  Mary Ann Leung\textsuperscript{3},
  %
  Suren Byna\textsuperscript{4},
  Kyle Chard\textsuperscript{5},
  Aashish Chaudhary\textsuperscript{6}
  Johannes Doerfert\textsuperscript{1},
  Rafael Ferreira da Silva\textsuperscript{7},
  Berk Geveci\textsuperscript{6},
  William Godoy\textsuperscript{7},
  Shantenu Jha\textsuperscript{8},
  Dan Laney\textsuperscript{1},
  Pat McCormick\textsuperscript{9},
  Kathryn Mohror\textsuperscript{1},
  Tom Scogland\textsuperscript{1},
  Barry Smith\textsuperscript{10},
  Keita Teranishi\textsuperscript{7},
  Richard Mills Tran\textsuperscript{5},
  Christian Trott\textsuperscript{11},
  Pedro Valero-Lara\textsuperscript{7},

  \textsuperscript{1}LLNL,
  \textsuperscript{2}LBNL,
  \textsuperscript{3}Sustainable Horizons Institute,
  \textsuperscript{4}OSU,
  \textsuperscript{5}ANL,
  \textsuperscript{6}Kitware, Inc.,
  \textsuperscript{7}ORNL,
  \textsuperscript{8}BNL,
  \textsuperscript{9}LANL,
  \textsuperscript{10}Flatiron Institute,
  \textsuperscript{11}SNL

% Potential additional industry partners
%  Andy Warner, (HPE)
%  Heidi Poxon, (AWS)
%  Brendan Bouffler, (AWS)
%  Doug Jacobsen (GCP)
}

\section{Vision}

%The Exascale Computing Project (ECP)
ASCR has created a broad ecosystem of software that
enables scientists across government, academia and industry to realize the full
potential of exascale machines in advancing the DOE mission.
%Like its biological namesake,
This ecosystem is thriving and interconnected,
%Researchers and developers constantly evolve the ECP
%software stack to adapt it for new needs and new mission applications. More than ever
%before (in DOE), the push to exascale has enabled {\it integration} across the stack,
%and {\it robust}, {\it shared} capabilities are leveraged by many consumer packages. The
%ECP stack provides many unique capabilities, but these capabilities cannot be sustained
%unless the software is maintained.
%but it is only
but it only continues to be
valuable if users have confidence in its reliability and longevity.
%This requires ongoing contributions, and a
A successful sustainment strategy requires growth: of the software itself,
but also of the stakeholder community and of the contributor base.
%should aim to grow the contributor base as large as possible.
We propose to achieve this through these key thrusts:

\begin{enumerate}

\item {\bf Core sustainment and integration.} We will create a project structure to sustain key
    software packages, including a critical mass of the most impactful software developed
    by ASCR-funded researchers.  We will ensure sustained integration of software stack components
    through ongoing efforts in Spack.

\item {\bf Stakeholder growth.} We will aggressively lower barriers to adoption, attracting new
    users and contributors to maximize the value of DOE's investment and broaden our
    impact.  We will develop models for industry interactions,
    enabling non-DOE funding and effort to support software as appropriate.

\item {\bf Workforce development.} We will proactively seek to broaden and diversify the
    ASCR software community in multiple ways: through increasing the participation in
    existing outreach activities\footnote{See, e.g., the existing LF initiatives we can build on:
  \href{https://www.linuxfoundation.org/about/diversity-inclusivity}{https://www.linuxfoundation.org/about/diversity-inclusivity}};
     and by directly offering training,
     mentoring and internships with software teams while also fostering scientific
     science ecosystems that value and seek greater inclusion and diversity.  We will partner with the
     Sustainable Horizons Institute (SHI)~\footnote{See \href{https://shinstitute.org}{https://shinstitute.org}},
     allowing us to maximize the impact of our efforts.
\end{enumerate}

%Spack, Kokkos, MFEM, and other ECP projects have grown
%  communities of hundreds of contributors, attracting the interest of industry just as
%  HPC has begun to take off in the cloud\footnote{Current studies project an 8\%
%  Compound Annual Growth Rate (CAGR) for cloud HPC.}. Now is the time to leverage this
%  confidence.

\section{Software Foundations}

One successful model of software sustainment outside of DOE is through software
foundations like the Apache Software Foundation (ASF), NumFOCUS, and the Linux
Foundation (LF), which have successfully scaled and sustained some of the largest open
source communities. Within LF, the Cloud Native Computing Foundation (CNCF) organizes a
consortium of independent projects around containers and Kubernetes. Importantly, a key
goal of CNCF is to create a {\it portable} software stack to prevent cloud vendor
lock-in, much as ECP has created a portable stack that spans CPUs and GPUs. CNCF's projects are
widely supported across clouds and even garner contributions and support from cloud
vendors.

There is currently no analog of CNCF for HPC, and we aim to fill this gap. The ultimate
aim of this project is to create an HPC Foundation (HPCF) that can:
\begin{enumerate}
\item Serve as a neutral home for key projects in the HPC open source ecosystem, and
      provide a home for project infrastructure, e.g. Continuous Integration (CI).
\item Provide a transparent governance model that allows stakeholders from DOE, facilities,
      industry, and
      academia to sit at the same table, steer the direction of member projects;
\item Enable sustainment of projects with donations from DOE and external sponsors; and
%\item Understand HPC trends, coordinating with CNCF and others to increase adoption and
%      integration;
\item Help develop the workforce of tomorrow by engaging them early in their careers.
\end{enumerate}

\section{Governance}

Neutral, transparent governance is critical for growing the contributor base for the ECP
stack, as it allows the broadest possible set of parties to be stakeholders. Under ECP
and traditional ASCR projects,
all governance sits within DOE. While collaboration is encouraged, there are barriers
for industry collaborators who want to partake in roadmap planning. Shared ownership
eliminates barriers, allows competitors (like cloud vendors) to collaborate, and
instills confidence that the project will endure beyond any one organization's support.

We will thus adopt a model similar to
\href{https://github.com/kubernetes/steering/blob/main/charter.md}{that of Kubernetes},
where a top-level steering committee guides the project's strategic direction, bylaws,
and finances, but delegates all technical responsibilities to sub-groups. Initially, the
steering committee will comprise senior staff from ECP projects, facilities,
laboratories, ASCR, NNSA, DOE applications, and industry partners. This model is
familiar to industry, and it lowers barriers for external funding. Many companies are
already set up to sponsor similarly structured organizations.

% \section{Impact, Metrics, and Core Sustainment}

To present a familiar technical governance model, the steering committee will be
responsible for the ramp-up and ramp-down of Special Interest Groups (SIGs). SIGs are
groups of collaborators working together on key technical topics, which could
range from core feature development, to groups of related projects focusing on
refactoring or integration efforts, to workforce topics aimed at catalyzing the
normalization of inclusion and exploiting diversity to produce more innovation. SIGs can
be funded or unfunded, but key projects designated for core sustainment will be funded
based on decisions by the steering committee.

The steering committee will determine which projects to sustain by considering a number
of key metrics on a regular schedule. We aim to support a broad, forward-looking
sustainability strategy, extending beyond traditional HPC to include contributors from
the cloud and computational and data science ecosystems. We propose the
following guidelines now, but part of our efforts in FY23 will be to work with the
steering committee to establish guidelines for FY24:

\begin{enumerate}
\item Broad usage (number of users, contributors, etc.) and potential for community
  growth;
\item Critical dependencies and capabilities for DOE exascale applications and software
  products;
\item Market trends and potential to establish industry, facility, or academic
  partnerships;
\item Potential to enhance the diversity of the larger HPC community;
  and
\item Key infrastructure for the sustainment and integration of the HPCF stack.
\end{enumerate}

The steering committee will evaluate metrics and projects on a yearly basis, and funded
projects will be required to establish yearly milestones.
%Milestone descriptions should
%be short (no more than a page or a single slide) but should demonstrate progress towards
%the objectives above. Milestones will be presented to the steering committee or by a
%designated subcommittee each year.
Inclusion will be determined by the above metrics, but funding amounts for approved
projects will be determined based on technical need.

\section{Growing SIGs into Foundation Projects}

We expect each SIG to have its own open meetings, to publicly document how external
parties can participate, and to include new potential partners and customers in the
project planning. We believe that enthusiastic users eventually become contributors, and
funded projects will be given assistance by the HPCF with project tooling such as
automation, hosting, establishing CI, interfacing with HPC facilities, and cultivating
industry partnerships. This will lower barriers for project developers and will
encourage further growth. We will establish a model similar to
\href{https://www.cncf.io/projects/}{CNCF's ``sandbox'', ``incubating'' and
  ``graduated'' projects} to grow project maturity and move projects to
production-readiness, and we will aggressively promote production-ready projects to the
broader HPC community. SIGs are not {\it necessarily} tied to funding; they can simply
be collaborations that arise in the course of open source development. We expect
projects to first show promise by our key metrics before being funded by DOE, but our
model opens the door to complementary funding.

The SIG structure provides a lightweight governance model for smaller projects, but it
allows larger projects to grow their own governance model in the hope that they could
become foundation projects in their own right. If a SIG begins to grow its own community
that needs more extensive structure and bylaws, it can become a separate foundation
project within the HPCF. The HPCF and its steering committee will work to maintain
awareness of all member projects, establishing collaborations but not dictating their
governance models or development workflows. We do not believe there is a single best
model for technical decisions.

\section{Pilot Foundation Projects in FY23}

We cannot grow an overarching HPC foundation overnight, but we can prototype this
governance structure in FY23.
We are already in conversations with the
Linux Foundation. We will need to document project governance models and establish
procedures for establishing SIGs. We have interest from Amazon Web Services (AWS),
Google Cloud Platform (GCP), HPE, AMD, Kitware, and others in sponsoring an initial
foundation. In FY23 we will:

\begin{enumerate}
\item Establish an initial steering committee and SIG structure;
\item Establish an initial set of SIGs to cover a large fraction of the ECP software
  ecosystem; and
\item Establish Spack, Kokkos, and potentially other projects as initial LF projects with dues and
  clear membership levels for industry, facility, labs, and other partners;
\item Begin discussions with LF about an overarching HPC foundation;
\item Work with ASCR to develop a model for DOE staff to work on funded SIGs within
  foundations;
\item Begin outreach to attract industry and academic partners to join us. We will explore
  potential partnership with the HPC4EI program in this area.
\end{enumerate}

Spack itself does not encompass the entire ECP software stack, but Spack has high
adoption and visibility in industry, and all ECP projects are deployed using Spack.
Given its centrality to the ECP software ecosystem, we aim to coordinate integration
among projects through Spack, just as E4S has done within ECP.

\section{Initial Special Interest Groups (SIGs)}

We aim to cover as much of the ECP stack as possible with our SIGs. Our list
is evolving rapidly, but so far we are aiming for SIGs around Spack and Software
Integration; Kokkos; Programming Models and Compilers; MFEM/CEED; AMReX and its
ecosystem; Workflows, Schedulers, and Cloud Integration; Sparse Solvers and Time
Integrators; I/O and Data Management; Machine Learning; and Workforce Development.
%
This list corresponds to SDKs and co-design centers within ECP, as well as key
collaboration directions identified by ECP projects. Our goal is to coordinate with
other funded sustainability projects to cover projects that will engage with us on
our foundation model. If projects are funded through other sustainability
projects, they can still join and contribute to a SIG here, but we should be able to fund
the entire ECP stack if possible and necessary.

\section{FY23 and Beyond}

In FY23, we will socialize our ideas with the community and incorporate changes based on
feedback. We will organize the steering committee and initial SIGs, then provide several
options to ASCR depending on the funding level. After FY23, we will work with LF to
establish the umbrella HPCF project.

Scientific computing is at an inflection point. Accelerated AI is ubiquitous, and
industry and cloud providers are beginning to look at accelerated computing for
HPC\footnote{The projected Compound Annual Growth Rate (CAGR) for cloud HPC is 8\%.}.
Today's exascale technologies are tomorrow's cloud offerings.
%A well maintained DOE stack can be the foundation of an accelerated cloud HPC ecosystem.
%and we can use our position of software leadership to shape the future of cloud and industry HPC.
%
With sufficient momentum, DOE software can shape the direction of industry HPC.
DOE open source has value that no company wishes to reinvent. A well established
software ecosystem ensures that we can take advantage of post-exascale hardware, and
blaze a path to a portable cloud HPC stack.




%\newpage
% --------------------------------------------------
% References
% --------------------------------------------------
%\nocite{*}
%\begingroup
%\section{References Cited}
%\renewcommand{\section}[2]{}
%\bibliographystyle{abbrv}
%{
%  \footnotesize
%  \setlength{\parskip}{0em}
%  \bibliography{strong-foundations-for-sustainability-fy23}
%}
%\endgroup


% --------------------------------------------------
% Biographical Sketch
% --------------------------------------------------

% A biographical sketch (limited to two pages) is required for each PI,
% co-investigator, student, postdoc, and/or university collaborator. The
% information must be provided in the order and format specified in the
% LDRD Biographical Sketch Template: Do not submit personal information
% such as home address; home telephone, fax, or cell phone numbers; home
% e-mail address; date of birth; citizenship; driver’s license numbers;
% marital status; personal hobbies; etc.

%\newpage
%\includepdf[pages=-]{grant-cv.pdf}
%\section{Biographical Sketch}

%\includepdf[pages=-]{bio-sketches/gamblin.pdf}

\end{document}

% LocalWords:  Gamblin Tzanio Kolev Almgren exascale sustainment impactful Spack DOE's
% LocalWords:  LF SHI ASF NumFOCUS CNCF Kubernetes ECP CPUs GPUs CNCF's HPC HPCF NNSA
% LocalWords:  roadmap SIGs SIG GCP HPE Kokkos EI MFEM CEED AMReX Integrators SDKs CAGR
